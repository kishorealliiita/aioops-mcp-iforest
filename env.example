# API Settings
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=1

# Model Settings
MODEL_PATH=models/isolation_forest_model.pkl
MODEL_CONTAMINATION=0.05
MODEL_RANDOM_STATE=42

# -----------------------------------------------------------------------------
# ANOMALY DETECTION & ALERTING
# -----------------------------------------------------------------------------
# Default score threshold from the Isolation Forest model.
# Lower scores are more anomalous. Values typically range from -1.0 to 1.0.
ANOMALY_THRESHOLD=-0.5

# (Optional) Rule-based alerting conditions with per-service overrides.
# - A log's numeric feature is checked against the threshold.
# - If a log's service has a specific rule (e.g., "web_server"), it's used.
# - Otherwise, the "__default__" rules are applied.
ALERT_CONDITIONS='{
  "web_server": {
    "response_time": 1500,
    "error_rate": 0.1
  },
  "database": {
    "query_time_ms": 3000
  },
  "__default__": {
    "cpu_usage_percent": 95,
    "memory_usage_mb": 500
  }
}'

# (Optional) Complex, stateful alert rules based on anomaly frequency.
# - Triggers if a service exceeds a 'count' of anomalies within a 'window_seconds'.
# - Rules are checked per-service, with a fallback to "__default__".
COMPLEX_ALERT_RULES='{
  "web_server": { "count": 5, "window_seconds": 60 },
  "database": { "count": 10, "window_seconds": 300 },
  "__default__": { "count": 20, "window_seconds": 300 }
}'

# -----------------------------------------------------------------------------
# ALERTING PLUGINS
# -----------------------------------------------------------------------------
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
PAGERDUTY_ROUTING_KEY=your_pagerduty_routing_key
GENERIC_WEBHOOK_URL=https://your-webhook-url.com/endpoint

# Logging Settings
LOG_LEVEL=INFO

# Anomaly Storage Settings
MAX_RECENT_ANOMALIES=500 